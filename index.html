<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="author" content="" />
    <meta name="description" content="GS3" />
    <meta name="keywords" content="Automation,GS3" />
    <title>GS3</title>
    <link rel="shortcut icon" href="gs3.png" />
    <!-- Css -->
    <link href="themes/a.min.css" rel="stylesheet" type="text/css" />
    <link href="themes/jquery.mobile.icons.min.css" rel="stylesheet" type="text/css" />
    <link href="css/jquery.mobile.structure-1.4.2.min.css" rel="stylesheet" type="text/css" />
    <link type="text/css" rel="stylesheet" href="css/style.css" />
    <link type="text/css" rel="stylesheet" href="colors/green/green.css" />
    <link type="text/css" rel="stylesheet" href="css/idangerous.swiper.css" />
    <link type="text/css" rel="stylesheet" href="css/swipebox.css" />
    <link href="css/hkStyle.css" rel="stylesheet" type="text/css" />
    <style type="text/css">
        .ui-loader-background
        {
            width: 100%;
            height: 100%;
            top: 0;
            padding: 0;
            margin: 0;
            background: rgba(0, 0, 0, 0.3);
            display: block;
            position: fixed;
            z-index: 100;
        }
        
        .ui-page
        {
            -webkit-backface-visibility: hidden;
        }
        .ui-listview > .ui-li-static.ui-last-child, .ui-listview > .ui-li-divider.ui-last-child, .ui-listview > li.ui-last-child > a.ui-btn
        {
            border-bottom-width: 0;
        }
        .ui-listview > .ui-li-static, .ui-listview > .ui-li-divider, .ui-listview > li > a.ui-btn
        {
            border-style: none;
            border-width: 1px 0 0;
        }
        .ui-btn .ui-corner-all .ui-btn-inherit .ui-btn-active .ui-checkbox-on
        {
            color: Green;
        }
        .ui-page-theme-a .ui-btn.ui-btn-active, html .ui-bar-a .ui-btn.ui-btn-active, html .ui-body-a .ui-btn.ui-btn-active, html body .ui-group-theme-a .ui-btn.ui-btn-active, html head + body .ui-btn.ui-btn-a.ui-btn-active, .ui-page-theme-a .ui-checkbox-on:after, html .ui-bar-a .ui-checkbox-on:after, html .ui-body-a .ui-checkbox-on:after, html body .ui-group-theme-a .ui-checkbox-on:after, .ui-btn.ui-checkbox-on.ui-btn-a:after, .ui-page-theme-a .ui-flipswitch-active, html .ui-bar-a .ui-flipswitch-active, html .ui-body-a .ui-flipswitch-active, html body .ui-group-theme-a .ui-flipswitch-active, html body .ui-flipswitch.ui-bar-a.ui-flipswitch-active, .ui-page-theme-a .ui-slider-track .ui-btn-active, html .ui-bar-a .ui-slider-track .ui-btn-active, html .ui-body-a .ui-slider-track .ui-btn-active, html body .ui-group-theme-a .ui-slider-track .ui-btn-active, html body div.ui-slider-track.ui-body-a .ui-btn-active
        {
            background-color: #8CC63F;
        }
        #index .ui-listview > .ui-li-static, .ui-listview > .ui-li-divider, .ui-listview > li > a.ui-btn
        {
            border-style: solid;
            border-width: 1px 0 0;
        }
        .noCorner .ui-corner-all
        {
            border-radius: 0 !important;
        }
        .ui-selectmenu .ui-header
        {
            border-width: 0;
            margin: 0;
            padding: 5px;
        }
        .ui-dialog .ui-header .ui-btn-icon-notext
        {
            display: none;
        }
    </style>
    <!-- IR-AC -->
    <style type="text/css">
        
    </style>
    <!-- End -->
    <!--Css END -->
</head>
<body>
    <div data-role="page" id="grouptype" data-title="GS3" data-transition="none">
        <div data-role="content" style="padding: 0 0 0 0;">
            <div class="swiper-container swiper-parent" style="padding: 0px;">
                <div class="swiper-wrapper">
                    <!--Menu page-->
                    <div class="swiper-slide sliderbg_menu">
                        <div class="swiper-container swiper-nested">
                            <div class="swiper-wrapper">
                                <div class="swiper-slide">
                                    <div class="slide-inner">
                                        <div class="logo">
                                            <a class="ui-link" href="#">
                                                <img src="colors/green/images/HKgs3logo.png" alt="" title="" border="0" /></a>
                                            <!--<a class="ui-link" href="#">
                                                <img border="0" title="" alt="" src="css/images/icons/lout.png"></a>-->
                                        </div>
                                        <br />
                                        <!--<center>
                                            <label style="color: White; font-weight: bold" id="authError">
                                            </label>
                                        </center>-->
                                        <div class="menu">
                                            <ul>
                                                <li><a id="GT1" class="ui-link" onclick="if(UUIDConfig.length > 0){menubtn_Click(this);}else{alert('please try again...');};"
                                                    name="Light" href="#">
                                                    <img src="css/images/icons/bulb.png" alt="light" />
                                                    <span class="spanGType">Lighting</span> </a></li>
                                                <li><a id="GT2" class="ui-link" onclick="if(UUIDConfig.length > 0){menubtn_Click(this);}else{alert('please try again...');};"
                                                    name="Fan" href="#">
                                                    <img src="css/images/icons/dimmer.png" alt="dimmer" />
                                                    <span class="spanGType">Fan</span> </a></li>
                                                <!--<li><a id="GT3" class="ui-link" onclick="if(UUIDConfig.length > 0){menubtn_Click(this);}else{alert('please try again...');};"
                                                    name="Dimmer" href="#">
                                                    <img src="css/images/icons/dimmer.png" alt="dimmer" />
                                                    <span class="spanGType">Dimmers</span> </a></li>-->
                                                <!--<li><a id="GT4" class="ui-link" onclick="alert('Under Construction...');" name="AC"
                                                    href="#">
                                                    <img src="css/images/icons/Temp1.png" alt="Temp" />
                                                    <span class="spanGType">AC</span> </a></li>-->
                                                <li><a id="GT5" class="ui-link" onclick="if(UUIDConfig.length > 0){menubtn_Click(this);}else{alert('please try again...');};"
                                                    name="Plug" href="#">
                                                    <img src="css/images/icons/plug1.png" alt="plug" />
                                                    <span class="spanGType">A Plug</span> </a></li>
                                                <!--<li><a id="GT6" class="ui-link" onclick="if(UUIDConfig.length > 0){menubtn_Click(this);}else{alert('please try again...');};"
                                                    name="Local Scene" href="#">
                                                    <img src="css/images/icons/local_scene.png" alt="LScenes" />
                                                    <span class="spanGType">Local Scenes</span> </a></li>-->
                                                <li><a id="GT7" class="ui-link" onclick="if(IRConfig.length > 0){menubtn_Click(this);}else{alert('please try again...');};"
                                                    name="IR-AC" href="#">
                                                    <img src="css/images/icons/Temp1.png" alt="IRAC" />
                                                    <span class="spanGType">IR-AC</span> </a></li>
                                                <li><a id="GT8" class="ui-link" name="Global Scenes" href="#" onclick="if(GSceneConfig.length > 0){menuGScene_Click(this);}else{alert('please try again...');};">
                                                    <img src="css/images/icons/global_scene.png" alt="GScene" />
                                                    <span class="spanGType">Global Scenes</span> </a></li>
                                                <!--<li><a id="GT4" class="ui-link" onclick="GroupType_Click(this);" name="15 A Plug"
                                                    href="#">
                                                    <img src="css/images/icons/plug2.png" />
                                                    <span class="spanGType">15 A Plug</span> </a></li>-->
                                                <!--<li><a id="GT6" class="ui-link" onclick="menu_Click(this);" name="Temp Control" href="#">
                                                    <img src="css/images/icons/Temp1.png" alt="Temp" />
                                                    <span class="spanGType">Temp Control</span> </a></li>-->
                                                <!--<li><a id="GT7" class="ui-link" onclick="menu_Click(this);" name="Local Scenes" href="#">
                                                    <img src="css/images/icons/local_scene.png" alt="LScenes" />
                                                    <span class="spanGType">Local Scenes</span> </a></li>
                                                <li><a id="GT9" class="ui-link" onclick="GroupType_Click(this);" name="TV" href="#">
                                                    <img src="css/images/icons/tv.png" alt="tv" />
                                                    <span class="spanGType">TV</span> </a></li>-->
                                                <li><a id="btnSettings" class="ui-link" name="setting" href="#" data-rel="dialog"
                                                    onclick="OpenSettingsWindow();">
                                                    <img src="css/images/icons/settings.png" alt="setting" />
                                                    <span class="spanGType">Settings</span> </a></li>
                                                <li><a id="btnLogout" class="ui-link" name="Logout" href="#" onclick="Logout();">
                                                    <img src="css/images/icons/signoutred.png" alt="logout" />
                                                    <span class="spanGType">Sign Out</span> </a></li>
                                            </ul>
                                            <div class="clearfix">
                                            </div>
                                            <!--<center>
                                                <h1>
                                                    <label style="display: inline-block">
                                                        <b>©</b></label>&nbsp;&nbsp;&nbsp;<label style="display: inline-block">
                                                            <b>2014 Harikrupa Automation (P) Ltd.</b></label>
                                                </h1>
                                            </center>-->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="swiper-scrollbar">
                            </div>
                        </div>
                        <!--       <footer>-->
                        <center>
                            <h1>
                                <label style="display: inline-block">
                                    <b>©</b></label>&nbsp;&nbsp;&nbsp;<label style="display: inline-block">
                                        <b>2014 Harikrupa Automation (P) Ltd.</b></label>
                            </h1>
                        </center>
                        <!--</footer>-->
                    </div>
                </div>
            </div>
        </div>
        <!--<div data-role="footer" data-position="fixed">-->
        <!--</div>-->
    </div>
    <div data-role="dialog" id="errorDialog" data-title="GS3" data-transition="none">
        <div data-role="header">
            <h1 style="font-size: 18px; font-weight: bolder">
                <b>Error</b>
            </h1>
        </div>
        <div data-role="content">
            <center>
                <label style="color: White; font-weight: bold" id="lbl_errordia">
                </label>
                <a href="#" data-rel="back" data-role="button" id="A9" data-rel="back" data-inline="true"
                    style="font-weight: bold; background: #3090C7;" data-mini="true">Back</a>
            </center>
        </div>
    </div>
    <!--Page 1-Light content-->
    <div data-role="page" id="lightPage" data-transition="none" data-title="GS3" style="background-color: #F6FCF7;">
        <div data-role="header">
            <h1>
                <b>
                    <label id="lblPageHeader_1" style="font-size: 18px; font-weight: bolder">
                        Light
                    </label>
                </b>
            </h1>
            <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>
        </div>
        <!-- /header -->
        <div role="main" class="ui-content">
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 75%">
                    <select id="selLocation_1" data-mini="true" onchange="BindInterfaceList('1');">
                        <!--<option value="">Select Location</option>
                        <option value="LR">L Room</option>
                        <option value="RR">R Room</option>-->
                    </select>
                    <select id="selInterface_1" data-mini="true" onchange="loadInterfaceDetails('1',true);">
                        <!--<option value="">Select Interface</option>
                        <option value="B1">Bulb 1</option>
                        <option value="B2">Bulb 2</option>-->
                    </select>
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 95%">
                    <div>
                        <a href="#">
                            <img id="img_1" src="css/images/icons/noimg.png" alt="lightOnOff" />
                            <!-- <span class="spanGType">Lighting</span>-->
                        </a>
                    </div>
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 90%">
                    <div>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOn('1');">ON</a>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOff('1');">OFF</a>
                        <a id="btnMode_1" name="" href="#" data-role="button" data-inline="true" onclick="modeWinShow(this,'1');">
                            MODE</a>
                    </div>
                </fieldset>
            </div>
        </div>
        <!-- /content -->
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#" data-icon="power" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;" onclick="Logout();">Sign Out</a></li>
                </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <!-- /page -->
    <!--Page 2-Fan content-->
    <div data-role="page" id="fanPage" data-transition="none" data-title="GS3" style="background-color: #F6FCF7;">
        <div data-role="header">
            <h1>
                <b>
                    <label id="lblPageHeader_2" style="font-size: 18px; font-weight: bolder">
                        Fan
                    </label>
                </b>
            </h1>
            <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>
        </div>
        <!-- /header -->
        <div role="main" class="ui-content">
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 75%">
                    <select id="selLocation_2" data-mini="true" onchange="BindInterfaceList('2');">
                    </select>
                    <select id="selInterface_2" data-mini="true" onchange="loadInterfaceDetails('2',true);">
                    </select>
                </fieldset>
                <!--<input id="knop_2" class="knob" data-angleoffset="-125" data-anglearc="250" data-fgcolor="#66EE66"
                    data-rotation="clockwise" value="0" data-min="0" data-max="10" data-step="2"
                    data-thickness=".5" data-enhance="false" data-readonly="true" />-->
                <fieldset class="ui-field-contain" style="width: 95%">
                    <div style="width: auto; height: 260px">
                        <div id="knopParentDiv_2" style="display: none">
                            <input id="knop_2" class="knob" data-angleoffset="-125" data-anglearc="250" data-fgcolor="#66EE66"
                                data-rotation="clockwise" value="0" data-min="0" data-max="5" data-step="1" data-thickness=".5"
                                data-enhance="false" />
                        </div>
                    </div>
                    <!-- <a href="#" id="lblStatus_2" class="ui-shadow ui-btn ui-corner-all ui-btn-inline ui-btn-icon-right ui-icon-alert">
                        Fan Status :</a>-->
                    <!--ui-icon-alert , info ,greenBtn, redBtn -->
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 90%">
                    <div>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOn('2');">ON</a>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOff('2');">OFF</a>
                        <a id="btnMode_2" name="" href="#" data-role="button" data-inline="true" onclick="modeWinShow(this,'2');">
                            MODE</a>
                    </div>
                </fieldset>
            </div>
        </div>
        <!-- /content -->
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <!-- <li><a href="#" data-icon="home" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;">Home</a></li>-->
                    <li><a href="#" data-icon="power" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;" onclick="Logout();">Sign Out</a></li>
                </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <!-- /page -->
    <!--Page 3-Dimmer content-->
    <div data-role="page" id="dimmerPage" data-transition="none" data-title="GS3" style="background-color: #F6FCF7;">
        <div data-role="header">
            <h1>
                <b>
                    <label id="lblPageHeader_3" style="font-size: 18px; font-weight: bolder">
                        Dimmer
                    </label>
                </b>
            </h1>
            <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>
        </div>
        <!-- /header -->
        <div role="main" class="ui-content">
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 75%">
                    <select id="selLocation_3" data-mini="true" onchange="BindInterfaceList('3');">
                    </select>
                    <select id="selInterface_3" data-mini="true" onchange="loadInterfaceDetails('3',true);">
                    </select>
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 95%">
                    <div style="width: auto; height: 260px">
                        <div id="knopParentDiv_3" style="display: none">
                            <input id="knop_3" class="knob" data-angleoffset="-125" data-anglearc="250" data-fgcolor="#66EE66"
                                data-rotation="clockwise" value="0" data-min="0" data-max="10" data-step="2"
                                data-thickness=".5" data-enhance="false" />
                        </div>
                    </div>
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 90%">
                    <div>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOn('3');">ON</a>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOff('3');">OFF</a>
                        <a id="btnMode_3" name="" href="#" data-role="button" data-inline="true" onclick="modeWinShow(this,'3');">
                            MODE</a>
                    </div>
                </fieldset>
            </div>
        </div>
        <!-- /content -->
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <!-- <li><a href="#" data-icon="home" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;">Home</a></li>-->
                    <li><a href="#" data-icon="power" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;" onclick="Logout();">Sign Out</a></li>
                </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <!-- /page -->
    <!--Page 5 content-->
    <div data-role="page" id="plugPage" data-transition="none" data-title="GS3" style="background-color: #F6FCF7;">
        <div data-role="header">
            <h1>
                <b>
                    <label id="lblPageHeader_5" style="font-size: 18px; font-weight: bolder">
                        Plug
                    </label>
                </b>
            </h1>
            <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>
        </div>
        <!-- /header -->
        <div role="main" class="ui-content">
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 75%">
                    <select id="selLocation_5" data-mini="true" onchange="BindInterfaceList('5');">
                    </select>
                    <select id="selInterface_5" data-mini="true" onchange="loadInterfaceDetails('5',true);">
                    </select>
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 95%">
                    <div>
                        <a href="#">
                            <img id="img_5" src="css/images/icons/plug2.png" alt="PlugOnOff" />
                        </a>
                    </div>
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 90%">
                    <div>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOn('5');">ON</a>
                        <a href="#" data-role="button" data-inline="true" onclick="writeOff('5');">OFF</a>
                        <a id="btnMode_5" name="" href="#" data-role="button" data-inline="true" onclick="modeWinShow(this,'5');">
                            MODE</a>
                    </div>
                </fieldset>
            </div>
        </div>
        <!-- /content -->
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <!--  <li><a href="#" data-icon="home" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;">Home</a></li>-->
                    <li><a href="#" data-icon="power" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;" onclick="Logout();">Sign Out</a></li>
                </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <!-- /page -->
    <!--Page 7/8 content-->
    <div data-role="page" id="irACPage" data-transition="none" data-title="GS3" style="background-color: #F6FCF7;">
        <div data-role="header">
            <h1>
                <b>
                    <label id="lblPageHeader_7" style="font-size: 18px; font-weight: bolder">
                        IR-AC
                    </label>
                </b>
            </h1>
            <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>
        </div>
        <!-- /header -->
        <div role="main" class="ui-content">
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 75%">
                    <select id="selLocation_7" data-mini="true" data-inline="true" onchange="BindInterfaceList('7');">
                    </select>
                    <select id="selInterface_7" data-mini="true" data-inline="true" onchange="loadInterfaceDetails('7',true);">
                    </select>
                </fieldset>
                <!--<fieldset data-corners="true" style="background-color: black; border-radius: 12px;
                    width: 250px; height: 140px; opacity: 0.6">-->
                <div data-corners="true" style="background-color: black; border-radius: 12px; width: 250px;
                    height: 140px; opacity: 0.6">
                    <table>
                        <tr>
                            <td align="right">
                                <label id="lblIRTemp_7" style="font-size: 55px; color: #15e7f5; padding-top: 50px;
                                    padding-bottom: 25px">
                                    26</label>
                                <!--<label style="display: inline-block; font-size: 45px; color: #15e7f5; padding-top: 50px;
                                        padding-bottom: 25px">
                                        &#8451;</label>-->
                            </td>
                            <td align="left">
                                <label style="display: inline-block; font-size: 45px; color: #15e7f5; padding-top: 50px;
                                    padding-bottom: 25px">
                                    &#8451;</label>
                            </td>
                        </tr>
                    </table>
                </div>
                <!--<div class="ui-field-contain">
                    <label for="flip" class="ui-hidden-accessible">
                        Flip it:</label>
                    <select id="flip" data-role="flipswitch">
                        <option value="animal">Lion</option>
                        <option value="flower">Rose</option>
                    </select>
                </div>-->
                <div style="padding-top: 10px;" data-inline="true">
                    <table>
                        <tbody>
                            <tr>
                                <td>
                                    <span style="color: black; font-size: 20px; padding-top: 35px; vertical-align: middle;">
                                        Power</span>
                                </td>
                                <td style="padding-left: 10px;">
                                    <div class="ui-field-contain">
                                        <label for="flipOnOff_7" class="ui-hidden-accessible">
                                            Power :</label>
                                        <select name="flipOnOff_7" id="flipOnOff_7" data-role="slider" data-theme="b" onchange="WriteIRFlipOnOff('7');">
                                            <option value="off">Off</option>
                                            <option value="on">On</option>
                                        </select>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div style="padding-top: 15px;" data-inline="true">
                    <!--<fieldset style="padding-top: 15px;" data-inline="true">-->
                    <table>
                        <tbody>
                            <tr>
                                <td style="padding: 5px;">
                                    <a class="btnCool" onclick="WriteIRCommand('7','7',false,false);"></a><span style="color: black;
                                        margin-left: 25px">Cool</span>
                                </td>
                                <td style="padding: 5px;">
                                    <a class="btnPowerOn" onclick="WriteIRCommand('5','7',false,false);"></a><span style="color: black;
                                        margin-left: 31px">On</span>
                                </td>
                                <td style="padding: 5px;">
                                    <a class="btnPowerOff" onclick="WriteIRCommand('6','7',false,false);"></a><span style="color: black;
                                        margin-left: 30px">Off</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">
                                    <a class="btnDry" onclick="WriteIRCommand('9','7',false,false);"></a><span style="color: black;
                                        margin-left: 29px">Dry</span>
                                </td>
                                <td style="padding: 5px;">
                                    <a class="btnSwingUp" onclick="WriteIRCommand('12','7',false,false);"></a><span style="color: black;
                                        margin-left: 12px">Swing-On</span>
                                </td>
                                <td rowspan="2" style="background-color: #8A8A8A; border-radius: 12px;">
                                    <a class="btnIncreseTemp" onclick="WriteIRCommand('10','7',true,true);" style="margin-left: 5px;">
                                    </a>
                                    <!--<span style="color: black; font-size: 12px;margin-bottom: 9px; ">Fan</span>-->
                                    <label style="color: black; margin-top: 0px; margin-bottom: 9px; font-size: 12px;
                                        text-align: center;">
                                        Temp</label>
                                    <a class="btnDecreseTemp" onclick="WriteIRCommand('11','7',true,false);" style="margin-left: 5px">
                                    </a>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 5px;">
                                    <a class="btnFan" onclick="WriteIRCommand('8','7',false,false);"></a>
                                    <!--<span style="color: black;
                                        margin-left: 29px">Fan</span>-->
                                </td>
                                <td style="padding: 5px;">
                                    <a class="btnSwingDown" onclick="WriteIRCommand('13','7',false,false);"></a>
                                    <!--<span
                                        style="color: black; margin-left: 4px">Swing-Off</span>-->
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table>
                        <tbody>
                            <tr>
                                <td>
                                    <span style="color: black; margin-left: -67px; font-size: 12px;">Fan</span>
                                </td>
                                <td>
                                    <span style="color: black; margin-left: 3px; font-size: 12px;">Swing-Off</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- /content -->
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#" data-icon="power" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;" onclick="Logout();">Sign Out</a></li>
                </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <!-- /page -->
    <!-- Page 6 content -->
    <div data-role="page" id="localScenePage" data-transition="none" data-title="GS3"
        style="background-color: #F6FCF7;">
        <div data-role="header">
            <h1>
                <b>
                    <label id="lblPageHeader_6" style="font-size: 18px; font-weight: bolder">
                        Local Scene
                    </label>
                </b>
            </h1>
            <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>
        </div>
        <!-- /header -->
        <div role="main" class="ui-content">
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 75%">
                    <select id="selLocation_6" data-mini="true" onchange="BindLSceneList('6',true);">
                        <!--<option value="">Select Location</option>
                        <option value="LR">L Room</option>
                        <option value="RR">R Room</option>-->
                    </select>
                    <!-- <select id="selInterface_7" data-mini="true" onchange="loadlocalScenesInterfaceDetails(true);">                        
                    </select>-->
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 98%">
                    <div>
                        <label id="lblErrorMsg_6" style="font-size: 14px; color: Red;">
                        </label>
                        <ul data-role="listview" id="sceneList_6" data-split-icon="right" data-split-theme="a"
                            data-inset="true">
                            <!-- <li><a href="#">
                                <h1>
                                    Light 1</h1>
                            </a><a href="#" class="ui-btn ui-icon-red ui-nodisc-icon ui-btn-icon-right" style="width: 4.5em;">
                            </a></li>
                            <li><a href="#">
                                <h1>
                                    Light 2</h1>
                            </a><a href="#" class="ui-btn ui-icon-green ui-nodisc-icon ui-btn-icon-right" style="width: 4.5em;">
                            </a></li>   -->
                        </ul>
                    </div>
                </fieldset>
                <!--<fieldset class="ui-field-contain" style="width: 90%">
                    <div>
                        <a href="#" data-role="button" data-inline="true" onclick="writeTemperatureAppliancesOn();">
                            ON</a> <a href="#" data-role="button" data-inline="true" onclick="writeTemperatureAppliancesOff();">
                                OFF</a> <a id="A12" name="btnTemperatureMode" href="#" data-role="button" data-inline="true"
                                    onclick="modeWinShow(this,'6');">MODE</a>
                    </div>
                </fieldset>-->
            </div>
        </div>
        <!-- /content -->
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#" data-icon="power" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;" onclick="Logout();">Sign Out</a></li>
                </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <!-- /page -->
    <!-- Page 8 content -->
    <div data-role="page" id="globalScenePage" data-transition="none" data-title="GS3"
        style="background-color: #F6FCF7;">
        <div data-role="header">
            <h1>
                <b>
                    <label id="lblPageHeader_8" style="font-size: 18px; font-weight: bolder">
                        Global Scene
                    </label>
                </b>
            </h1>
            <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>
        </div>
        <!-- /header -->
        <div role="main" class="ui-content">
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 98%">
                    <div>
                        <label id="lblErrorMsg_8" style="font-size: 14px; color: Red;">
                        </label>
                        <ul data-role="listview" id="sceneList_8" data-split-icon="right" data-split-theme="a"
                            data-inset="true">
                            <!--<li><a href="#">
                                <h1>
                                    Light 2</h1>
                            </a><a href="#" class="ui-btn ui-icon-green ui-nodisc-icon ui-btn-icon-right" style="width: 4.5em;">
                            </a></li>-->
                        </ul>
                    </div>
                </fieldset>
                <!--<fieldset class="ui-field-contain" style="width: 90%">
                    <div>
                        <a href="#" data-role="button" data-inline="true" onclick="writeTemperatureAppliancesOn();">
                            ON</a> <a href="#" data-role="button" data-inline="true" onclick="writeTemperatureAppliancesOff();">
                                OFF</a> <a id="A12" name="btnTemperatureMode" href="#" data-role="button" data-inline="true"
                                    onclick="modeWinShow(this,'6');">MODE</a>
                    </div>
                </fieldset>-->
            </div>
        </div>
        <!-- /content -->
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar">
                <ul>
                    <li><a href="#" data-icon="power" class="ui-btn-active" style="background-color: #8cc63f;
                        border-color: #4d6c22;" onclick="Logout();">Sign Out</a></li>
                </ul>
            </div>
        </div>
        <!-- /footer -->
    </div>
    <!-- /page -->
    <!-- Mode Page -->
    <div id="modeDialogPage" data-role="page" data-title="GS3" style="background-color: #F6FCF7;"
        data-transition="none">
        <!--<div data-role="header" id="Div10" data-position="fixed" style="height: 40px; font-size: 18px;
            font-weight: bolder">
            <h1 id="lblmodeDialogPagePageHeader">
            </h1>
        </div>-->
        <div data-role="header">
            <h1>
                <b>
                    <label id="Label4" style="font-size: 18px; font-weight: bolder">
                        Change Mode
                    </label>
                </b>
            </h1>
            <!-- <a href="#" onclick="btnBack();">
                <img src="css/images/icons/back.png" alt="" title="" width="16px" /></a> <a href="#"
                    onclick="GoToHome();">
                    <img src="css/images/icons/home.png" alt="" title="" width="16px" /></a>-->
        </div>
        <div data-role="content">
            <!-- role="main" class="ui-content">-->
            <div align="center">
                <fieldset class="ui-field-contain" style="width: 65%">
                    <select name="s_Mode" id="SelSimpleMode" data-mini="true">
                        <option value="1" style="font-size: 15px; padding: 6px;">Switch Only</option>
                        <option value="2" style="font-size: 15px; padding: 6px;">PC + Switch</option>
                        <option value="3" style="font-size: 15px; padding: 6px;">PC Only</option>
                    </select>
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 75%">
                    <a href="#" data-role="button" data-rel="back" id="sTagWrite_btn" name="sTagWrite_btn"
                        class="write" data-mini="true" data-inline="true" style="background: #8CC63F;"
                        onclick="writeSimpleMode(this)">Done</a> <a href="#" data-role="button" id="A13"
                            data-mini="true" data-inline="true" style="background: #3090C7;" data-rel="back">
                            Back</a>
                    <!--onclick="Dimmer_Back_Click();"-->
                </fieldset>
            </div>
        </div>
        <!--<div data-role="content" id="Div11">
            <div style="float: left; width: 60%" id="Div12" class="ui-field-contain">
                <label for="s_Mode">
                    Mode:</label>
            </div>
            <br />
            <center>
                <div style="width: 200px; padding-top: 86px;">
                    <center>
                    </center>
                </div>
            </center>
        </div>-->
    </div>
    <!-- /page -->
    <!--Setting Page -->
    <div data-role="page" id="settingDialogPage" data-title="GS3" data-transition="none">
        <div data-role="header">
            <h1 style="font-size: 18px; font-weight: bolder">
                <b>Settings </b>
            </h1>
        </div>
        <div data-role="content">
            <center>
                <fieldset class="ui-field-contain" style="width: 90%">
                    <input type="text" id="username" placeholder="Username" style="height: 30px; text-align: center;
                        background-color: Gray; font-weight: bold; font-size: 16px;" value="clientadmin" />
                    <input type="password" id="password" placeholder="Password" style="height: 30px;
                        text-align: center; background-color: Gray; font-weight: bold; font-size: 16px;"
                        value="clientadmin@123" />
                    <input type="text" id="ip" placeholder="Server Address" style="height: 30px; text-align: center;
                        background-color: Gray; font-weight: bold; font-size: 16px;" />
                    <input type="text" id="port" placeholder="Port" style="height: 30px; text-align: center;
                        background-color: Gray; font-weight: bold; font-size: 16px;" />
                    <input type="text" id="delay" placeholder="Set Delay" style="height: 30px; text-align: center;
                        background-color: Gray; font-weight: bold; font-size: 16px;" />
                </fieldset>
                <fieldset class="ui-field-contain" style="width: 75%">
                    <a href="#" data-rel="back" data-role="button" id="save" onclick="SaveSettings()"
                        data-inline="true" style="font-weight: bold; background: #8CC63F;" data-mini="true">
                        Update Settings</a> <a href="#" data-rel="back" data-role="button" id="btnSettingBack"
                            data-inline="true" style="font-weight: bold; background: #3090C7;" data-mini="true">
                            Back</a>
                </fieldset>
            </center>
        </div>
    </div>
    <!-- /Page -->
    <!-- JS Script -->
    <script src="Js/jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="Js/jquery.mobile-1.4.2.min.js" type="text/javascript"></script>
    <!--  If Want to build Mobile app remove cordova.js comment below-->
    <script src="phonegap.js"></script>
    <script type="text/javascript">
        var UUIDConfig = [];
        var IRConfig = [];
        var GSceneConfig = [];
        $.mobile.allowCrossDomainPages = true;
        var isBrowser = false; //If Used in browser then 'true' and for mobile app make it 'false'.
        var timer;
        var chkConnectionDelay = 10000;
        var chkConnectionTimer;
        var delay = localStorage.getItem('Delay');
        if (delay == 0 || delay == undefined) {
            delay = 1500;
        }
        //var token = "";                     //Token
        var username = "";                  //Username
        var password = "";                  //Password
        var ip = "";                        //IP
        var port = "";                     //Port        
        var activePage = "";                //Set ActivePage id/name
        //var pageChange = false;
        //var tagflag = false;                //For recurcivly upadate Tag's Value on TagPage
        //var tagIds = [];                    //TagID Array       
        //var t_gid = "";                     //Temp GroupID
        //var t_gname = "";                 //Temp GroupName            
        //var wDimmerTagID = -1;              //Set When Dimmer Write Window open.
        //var chkDimmersValue = true;         //For recurcivly upadate Dimmer Dialog Tag's Value


        $(document).on("mobileinit", function () {
            $.mobile.defaultPageTransition = 'none';
            $.mobile.transitionFallbacks = 'none';
        });
        $(document).bind("mobileinit", function () {

            $.mobile.allowCrossDomainPages = true;
        });

        $(document).on('pagechange', function (event) {

            var page = $(':mobile-pagecontainer').pagecontainer('getActivePage')[0].id;

            if (page == "grouptype" || page == "group") {
                window.clearTimeout(timer);
            }

        });

    </script>
    <script type="text/javascript">
        function LoadSettings() {
            if (typeof (Storage) !== "undefined") {
                //$('#username').attr('value', localStorage.getItem('Username'));
                $('#username').val(localStorage.getItem('Username'));
                $('#password').val(localStorage.getItem('Password'));
                $('#port').val(localStorage.getItem('Port'));
                $('#ip').val(localStorage.getItem('Ip'));
                $('#delay').val(localStorage.getItem('Delay'));
                username = $('#username').val();
                password = $('#password').val();
                ip = $('#ip').val();
                port = $('#port').val();
                delay = $('#delay').val();
                if (localStorage.getItem("UUIDConfig") != null) {
                    UUIDConfig = JSON.parse(localStorage.getItem("UUIDConfig"));
                }
                if (localStorage.getItem("IRConfig") != null) {
                    IRConfig = JSON.parse(localStorage.getItem("IRConfig"));
                }
                if (localStorage.getItem("GSceneConfig") != null) {
                    GSceneConfig = JSON.parse(localStorage.getItem("GSceneConfig"));
                }
                //
                //SettingsAuth();
            }
        };

        function chkConnection() {

            if ($.mobile.activePage.is("#grouptype")) {
                try {
                    window.clearTimeout(timer);
                } catch (msg) { }
            }

            if (localStorage.getItem("Ip") != null) {
                if (localStorage.getItem("Ip") != "") {

                    //                if (UUIDConfig.length < 1 && IRConfig.length < 1) {
                    //                    GetUUIDConfiguration(function (data) {
                    //                        GetIRConfiguration(function (data) {
                    //                            setTimeout(function () {
                    //                                chkConnection();
                    //                            }, chkConnectionDelay);
                    //                        });
                    //                    });
                    //                }
                    //                else if (UUIDConfig.length < 1) {
                    //                    GetUUIDConfiguration(function (data) {
                    //                        setTimeout(function () {
                    //                            chkConnection();
                    //                        }, chkConnectionDelay);
                    //                    });

                    //                }
                    //                else if (IRConfig.length < 1) {
                    //                    GetIRConfiguration(function (data) {
                    //                        setTimeout(function () {
                    //                            chkConnection();
                    //                        }, chkConnectionDelay);
                    //                    });
                    //                }
                    //                else {
                    //                    setTimeout(function () {

                    //                        chkConnection();

                    //                    }, chkConnectionDelay);
                    //                }

                    if (UUIDConfig.length < 1) {
                        GetUUIDConfiguration(function (data) {
                        });
                    }
                    if (IRConfig.length < 1) {
                        GetIRConfiguration(function (data) {
                        });
                    }
                    if (GSceneConfig.length < 1) {
                        GetGSceneConfiguration(function (data) {
                        });
                    }

                    chkConnectionTimer = setTimeout(function () {

                        chkConnection();

                    }, chkConnectionDelay);
                }
                else {
                    alert("IP Address is not set.");
                }

            }
            else {
                alert("IP Address is not set.");
            }


        };

        var isPopupActive = false;
        function onLoad() {
            document.addEventListener('deviceready', deviceReady, false);

        };

        function deviceReady() {
            document.addEventListener("backbutton", function (e) {
                if ($.mobile.activePage.is('#grouptype')) {
                    e.preventDefault();
                    backButtonCallback();
                }
                else {
                    //pageChange = true;
                    navigator.app.backHistory()
                }
            }, false);

            // navigator.network.isReachable("phonegap.com", reachableCallback, {});

        };

        function backButtonCallback() {
            navigator.notification.confirm('do you want to exit the HK GS3?', confirmCallback);
        };
        function confirmCallback(buttonIndex) {
            if (buttonIndex == 1) {
                navigator.app.exitApp();
                return true;
            }
            else {
                return false;
            }
        };

        function Logout() {
            if (isBrowser) {
                tagflag = false;
                window.clearTimeout(timer);
                //token = "";
                $.mobile.changePage("index.html");
            }
            else {
                tagflag = false;
                //token = "";
                backButtonCallback();
            }
        };

        //Go Home

        function GoToHome() {
            tagflag = false;
            $.mobile.changePage("index.html#grouptype");

        };


        // History Back

        function btnBack() {
            history.back();
        };

        function SaveSettings() {
            if (typeof (Storage) !== "undefined") {
                localStorage.setItem('Username', $('#username').val());
                localStorage.setItem('Password', $('#password').val());
                localStorage.setItem('Ip', $('#ip').val());
                localStorage.setItem('Port', $('#port').val());
                localStorage.setItem('Delay', $('#delay').val());
                GetUUIDConfiguration(function (data) {
                    GetIRConfiguration(function (data) {
                        GetGSceneConfiguration(function (data) {
                        });
                    });
                });

            }

        };

        function GetHandler() {
            return "http://" + ip + ":" + port + "/ALSScheduler/ALSHandler.ashx";
        };

        function GetNewHandler() {
            //            var strPort = localStorage.getItem('Port') == null ? "" : ":" + localStorage.getItem('Port');
            //            strPort = strPort.trim() == ":" ? "" : strPort;
            if (localStorage.getItem('Port') == "")
                return "http://" + localStorage.getItem('Ip'); //+ ":" + port;           
            else
                return "http://" + localStorage.getItem('Ip') + ":" + localStorage.getItem('Port');
        };

        $(document).ready(function () {
            LoadSettings();

            //            if (IsConnectionOk()) {
            //                if (UUIDConfig.length < 1) {
            //                    GetUUIDConfiguration(function (data) {
            //                    });
            //                }
            //                if (IRConfig.length < 1) {
            //                    GetIRConfiguration(function (data) {
            //                    });
            //                }
            //                if (GSceneConfig.length < 1) {
            //                    GetGSceneConfiguration(function (data) {
            //                    });
            //                }
            window.clearTimeout(chkConnectionTimer);
            chkConnection();
            //                if (UUIDConfig.length < 1 && IRConfig.length < 1) {
            //                    GetUUIDConfiguration(function (data) {
            //                        GetIRConfiguration(function (data) {
            //                            chkConnection();
            //                        });
            //                    });
            //                }
            //                else if (UUIDConfig.length < 1) {
            //                    GetUUIDConfiguration(function (data) {
            //                        chkConnection();
            //                    });
            //                }
            //                else if (IRConfig.length < 1) {
            //                    GetIRConfiguration(function (data) {
            //                        chkConnection();
            //                    });
            //                }
            //                else {
            //                    chkConnection();
            //                }
            //}

        });    
    </script>
    <script src="Js/hkScript.js" type="text/javascript"></script>
    <script src="Js/jquery.knob.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function ($) {

            $.mobile.ignoreContentEnabled = true;

            $(".knob").knob({
                change: function (value) {
                    //console.log("change : " + value);
                },
                release: function (value) {
                    dimmerNewVal = value;
                    if ($.mobile.activePage.is("#fanPage")) {
                        if (dimmerOldVal != value) {
                            writeUsingKnob(value * 2, "2"); //"2" - for Fan;
                            console.log(value * 2);
                        }
                    }
                    else if ($.mobile.activePage.is("#dimmerPage")) {
                        if (dimmerOldVal != value) {
                            writeUsingKnob(value * 2, "3"); //"3" - for Dimmer;
                            console.log(value * 2);
                        }
                    }
                },
                cancel: function () {
                    //console.log("cancel : ", this);
                },
                /*format : function (value) {
                return value + '%';
                },*/
                draw: function () {

                    // "tron" case
                    if (this.$.data('skin') == 'tron') {

                        this.cursorExt = 0.3;

                        var a = this.arc(this.cv)  // Arc
                                , pa                   // Previous arc
                                , r = 1;

                        this.g.lineWidth = this.lineWidth;

                        if (this.o.displayPrevious) {
                            pa = this.arc(this.v);
                            this.g.beginPath();
                            this.g.strokeStyle = this.pColor;
                            this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, pa.s, pa.e, pa.d);
                            this.g.stroke();
                        }

                        this.g.beginPath();
                        this.g.strokeStyle = r ? this.o.fgColor : this.fgColor;
                        this.g.arc(this.xy, this.xy, this.radius - this.lineWidth, a.s, a.e, a.d);
                        this.g.stroke();

                        this.g.lineWidth = 2;
                        this.g.beginPath();
                        this.g.strokeStyle = this.o.fgColor;
                        this.g.arc(this.xy, this.xy, this.radius - this.lineWidth + 1 + this.lineWidth * 2 / 3, 0, 2 * Math.PI, false);
                        this.g.stroke();

                        return false;
                    }
                }
            });

            // Example of infinite knob, iPod click wheel
            var v, up = 0, down = 0, i = 0
                    , $idir = $("div.idir")
                    , $ival = $("div.ival")
                    , incr = function () { i++; $idir.show().html("+").fadeOut(); $ival.html(i); }
                    , decr = function () { i--; $idir.show().html("-").fadeOut(); $ival.html(i); };
            $("input.infinite").knob(
                                    {
                                        min: 0
                                    , max: 20
                                    , stopper: false
                                    , change: function () {
                                        if (v > this.cv) {
                                            if (up) {
                                                decr();
                                                up = 0;
                                            } else { up = 1; down = 0; }
                                        } else {
                                            if (v < this.cv) {
                                                if (down) {
                                                    incr();
                                                    down = 0;
                                                } else { down = 1; up = 0; }
                                            }
                                        }
                                        v = this.cv;
                                    }
                                    });
        });
    </script>
    <script type="text/javascript">
        //Get Menu Click
        var dimmerOnOffTagID = -1;
        var dimmerOldVal = 0;
        var dimmerNewVal = 0;
        //var IsSetDimIndi_WithoutTouch = false;

        function GetLocationByInterfaceType(iType) {
            var loc = [];
            for (var i = 0; i < UUIDConfig.length; i++) {

                if (UUIDConfig[i].interfaceType == iType) {
                    loc.push(UUIDConfig[i]);
                }
            }
            return loc;

        };

        function GetIRLocationByInterfaceType(iType) {
            var loc = [];
            for (var i = 0; i < IRConfig.length; i++) {

                if (IRConfig[i].interfaceType == iType) {
                    loc.push(IRConfig[i]);
                }
            }
            return loc;
        };


        function GetInterfaceByLocationAndInterfaceType(lType, lNum, iType) {
            var interface = [];
            for (var i = 0; i < UUIDConfig.length; i++) {

                if (UUIDConfig[i].locationType == lType && UUIDConfig[i].locationNumber == lNum && UUIDConfig[i].interfaceType == iType) {
                    interface.push(UUIDConfig[i]);
                }
            }
            return interface;
        };

        function GetIRInterfaceByLocationAndInterfaceType(lType, lNum, iType) {
            var interface = [];
            for (var i = 0; i < IRConfig.length; i++) {

                if (IRConfig[i].locationType == lType && IRConfig[i].locationNumber == lNum && IRConfig[i].interfaceType == iType) {
                    interface.push(IRConfig[i]);
                }
            }
            return interface;
        };

        function GetPCWRTInfo(busID, deviceID, channelId) {
            var info = [];
            for (var i = 0; i < UUIDConfig.length; i++) {

                if (UUIDConfig[i].busId == busID && UUIDConfig[i].deviceId == deviceID && UUIDConfig[i].attribute == 4 && UUIDConfig[i].channelId == channelId) {
                    info.push(UUIDConfig[i]);
                    break;
                }
            }

            return info;

        };

        function GetModeInfo(busID, deviceID, channelId) {
            var info = [];
            for (var i = 0; i < UUIDConfig.length; i++) {

                if (UUIDConfig[i].busId == busID && UUIDConfig[i].deviceId == deviceID && UUIDConfig[i].attribute == 2 && UUIDConfig[i].channelId == channelId) {
                    info.push(UUIDConfig[i]);
                    break;
                }
            }

            return info;

        };

        function GetSaveConfigInfo(busID, deviceID) {
            var info = [];
            for (var i = 0; i < UUIDConfig.length; i++) {

                if (UUIDConfig[i].busId == busID && UUIDConfig[i].deviceId == deviceID && UUIDConfig[i].attribute == 11) {
                    info.push(UUIDConfig[i]);
                    break;
                }
            }

            return info;

        };


        function GetUUIDConfigById(id) {
            var configInfo = [];
            for (var i = 0; i < UUIDConfig.length; i++) {

                if (UUIDConfig[i].Id == id) {
                    configInfo.push(UUIDConfig[i]);
                    break;
                }
            }
            return configInfo;
        };

        function GetUUIDConfigByInterfaceSubType(lType, lNum, iType, iNum, iSubType) {
            var configInfo = [];
            for (var i = 0; i < UUIDConfig.length; i++) {

                if (UUIDConfig[i].locationType == lType && UUIDConfig[i].locationNumber == lNum && UUIDConfig[i].interfaceType == iType && UUIDConfig[i].interfaceNumber == iNum && UUIDConfig[i].interfaceSubType == iSubType) {
                    configInfo.push(UUIDConfig[i]);
                    break;
                }
            }
            return configInfo;
        };

        function GetIRConfigById(id) {
            var configInfo = [];
            for (var i = 0; i < IRConfig.length; i++) {

                if (IRConfig[i].Id == id) {
                    configInfo.push(IRConfig[i]);
                    break;
                }
            }
            return configInfo;
        };

        function GetIRCommand(lType, lNum, iType, iNum, paramType) {
            var irInfo = [];
            for (var i = 0; i < IRConfig.length; i++) {
                if (IRConfig[i].parameterType == paramType && IRConfig[i].locationType == lType && IRConfig[i].locationNumber == lNum && IRConfig[i].interfaceType == iType && IRConfig[i].interfaceNumber == iNum) {
                    irInfo.push(IRConfig[i]);
                    break;
                }
            }
            return irInfo;
        };

        function getLocationTypeName(lType) {
            var rtnString = "";
            switch (lType) {
                case 1:
                    rtnString = "Living Room";
                    break;
                case 2:
                    rtnString = "Kitchen";
                    break;
                case 3:
                    rtnString = "Bathroom";
                    break;
                case 4:
                    rtnString = "Bedroom";
                    break;
                case 5:
                    rtnString = "Storeroom";
                    break;
                case 6:
                    rtnString = "Servant room";
                    break;
                case 7:
                    rtnString = "Entrance";
                    break;
                case 8:
                    rtnString = "Lobby";
                    break;
                case 9:
                    rtnString = "Terrace";
                    break;
                case 10:
                    rtnString = "Garden";
                    break;
                case 11:
                    rtnString = "Wash Area";
                    break;
                case 12:
                    rtnString = "Dining";
                    break;
                case 13:
                    rtnString = "Pooja Room";
                    break;

            }
            return rtnString;
        };

        function getInterfaceTypeName(iType) {
            var rtnString = "";
            switch (iType) {
                case 1:
                    rtnString = "Light";
                    break;
                case 2:
                    rtnString = "Fan";
                    break;
                case 3:
                    rtnString = "Dimmer";
                    break;
                case 4:
                    rtnString = "AC";
                    break;
                case 5:
                    rtnString = "Plug";
                    break;
                case 6:
                    rtnString = "Local Scene";
                    break;
                case 7:
                    rtnString = "IR-AC";
                    break;

            }
            return rtnString;
        };

        function getInterfaceSubTypeName(iSubType) {
            var rtnString = "";
            switch (iSubType) {
                case 1:
                    rtnString = "Ceiling";
                    break;
                case 2:
                    rtnString = "Bracket";
                    break;
                case 3:
                    rtnString = "Focus";
                    break;
                case 4:
                    rtnString = "LED";
                    break;
                case 5:
                    rtnString = "Zhumar";
                    break;
                case 6:
                    rtnString = "Night Lamp";
                    break;
                case 7:
                    rtnString = "AC";
                    break;
                case 8:
                    rtnString = "TV";
                    break;
                case 9:
                    rtnString = "Set-Top Box";
                    break;
                case 10:
                    rtnString = "CPU";
                    break;
                case 11:
                    rtnString = "Monitor";
                    break;
                case 12:
                    rtnString = "AV System";
                    break;
                case 13:
                    rtnString = "Oven";
                    break;
                case 14:
                    rtnString = "Fridge";
                    break;
                case 15:
                    rtnString = "Water Heater";
                    break;
                case 16:
                    rtnString = "Room Heater";
                    break
                case 17:
                    rtnString = "Chimney";
                    break
                case 18:
                    rtnString = "Water Purifier";
                    break
                case 19:
                    rtnString = "Dishwasher";
                    break
                case 20:
                    rtnString = "Vaccum Cleaner";
                    break
                case 21:
                    rtnString = "Washing Machine";
                    break
                case 22:
                    rtnString = "Printer";
                    break
                case 23:
                    rtnString = "Laptop";
                    break
                case 24:
                    rtnString = "Networking Device";
                    break
            }
            return rtnString;
        };


        function clearLocationSelBox(iType) {
            $("#selLocation_" + iType).empty();
            $("#selLocation_" + iType).html("");
            $("#selLocation_" + iType).selectmenu("refresh", true);
        };

        function clearInterfaceSelBox(iType) {
            $("#selInterface_" + iType).empty();
            $("#selInterface_" + iType).html("");
            $("#selInterface_" + iType).selectmenu("refresh", true);
        };


        function SetImageSrc(iType, val) {
            //            try {
            //                $("#img_" + iType).attr('src', url);
            //            }
            //            catch (err) {
            //            }
            var loc = "css/images/icons/noimg.png";
            switch (iType) {
                case "1": //Light
                    if (val == "10") {
                        loc = "css/images/icons/bulbON.png";
                    }
                    else {
                        loc = "css/images/icons/bulbOFF.png";
                    }
                    break;
                case "2": //Fan  
                    break;
                case "3": //Dimmer  
                    break;
                case "4": //AC  
                    break;
                case "5": //Plug                
                    if (val == "10") {
                        loc = "css/images/icons/plugON.png";
                    }
                    else {
                        loc = "css/images/icons/plugOFF.png";
                    }
                    break;
                default:
                    loc = "css/images/icons/noimg.png";
                    break;
            }
            try { $("#img_" + iType).attr('src', loc); } catch (err) { }
        };

        function ResetImageSrc(iType) {
            try {
                var loc = "css/images/icons/noimg.png";
                $("#img_" + iType).attr('src', loc);
            }
            catch (err) {
            }
        };

        function setKnobHide(iType) {
            try {
                // $("#knop_" + iType).siblings("canvas").remove();
                //                if ($("#knop_" + iType).attr("data-readOnly") == 'false') {
                //                    $("#knop_" + iType).unwrap().attr("data-readOnly", true).data("kontroled", "").data("readonly", true).knob();
                //                }
                $("#knopParentDiv_" + iType).hide();
                //$("#knop_" + iType).val("0").trigger("change");
            }
            catch (err) { }
        };
        function setKnobShow(iType) {
            try {
                // $("#knop_" + iType).siblings("canvas").remove();
                //                if ($("#knop_" + iType).attr("data-readOnly") == 'true') {
                //                    $("#knop_" + iType).unwrap().removeAttr("data-readOnly readonly").data("kontroled", "").data("readonly", false).knob();
                //                }
                $("#knopParentDiv_" + iType).show();
                //$("#knop_" + iType).val("0").trigger("change");
            }
            catch (err) { }
        }

        function setKnobIndicator(iType, val) {
            try {
                dimmerOldVal = val;
                $("#knop_" + iType).val(val.toString()).trigger("change");
            }
            catch (err) { }
        };

        function setIRPowerONOffStatus(iType, textval) {
            try {
                $("#flipOnOff_" + iType).val(textval).slider("refresh");
                //$("#flipOnOff_" + iType).flipswitch('refresh');
            }
            catch (err) {
            }

        };

        function menuGScene_Click(el) {
            var iType = el.id.substring(2);
            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });

            $('body').append("<div id='loaddiv' class='ui-loader-background'> </div>");
            document.getElementById("lblPageHeader_" + iType).innerHTML = el.name;

            $("#sceneList_" + iType).html("");


            for (var i = 0; i < GSceneConfig.length; i++) {
                $("#sceneList_" + iType).append('<li class="ui-li-has-alt ui-first-child ui-last-child"><a href="#" class="ui-btn tap" style="margin-right: 4.5em;"><h1>' + GSceneConfig[i].Name + '</h1></a><a href="#" id="scenes_' + GSceneConfig[i].FileId + '" class="ui-btn ui-icon-arrowright ui-nodisc-icon ui-btn-icon-right ui-btn-icon-notext ui-icon-right ui-btn-a" style="width: 4.5em;" onclick="WriteGlobalScene(' + GSceneConfig[i].FileId + ');"></a></li>');
            }

            $.mobile.changePage("index.html#globalScenePage");
            activePage = "globalScenePage";

            //            $("#sceneList_" + iType).append('<li class="ui-li-has-alt ui-first-child ui-last-child"><a href="#" class="ui-btn tap" style="margin-right: 4.5em;"><h1>Scene' + 1 + '</h1></a><a href="#" id="scenes_' + 1 + '" class="ui-btn ui-icon-green ui-nodisc-icon ui-btn-icon-right ui-btn-icon-notext ui-icon-right ui-btn-a" style="width: 4.5em;" onclick="alert("sceneWrite");"></a></li>');
            //            $("#sceneList_" + iType).append('<li class="ui-li-has-alt ui-first-child ui-last-child"><a href="#" class="ui-btn tap" style="margin-right: 4.5em;"><h1>Scene' + 2 + '</h1></a><a href="#" id="scenes_' + 2 + '" class="ui-btn ui-icon-red ui-nodisc-icon ui-btn-icon-right ui-btn-icon-notext ui-icon-right ui-btn-a" style="width: 4.5em;" onclick="alert("sceneWrite");"></a></li>');
            //            $("#sceneList_" + iType).append('<li class="ui-li-has-alt ui-first-child ui-last-child"><a href="#" class="ui-btn tap" style="margin-right: 4.5em;"><h1>Scene' + 3 + '</h1></a><a href="#" id="scenes_' + 3 + '" class="ui-btn ui-icon-red ui-nodisc-icon ui-btn-icon-right ui-btn-icon-notext ui-icon-right ui-btn-a" style="width: 4.5em;" onclick="alert("sceneWrite");"></a></li>');

            $.mobile.loading("hide");
            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        };

        function WriteGlobalScene(globalSceneFileID) {
            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });
            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");

            if (globalSceneFileID != "" && globalSceneFileID != "-1") {
                var queryStr = "/global.html?scene=" + globalSceneFileID;
                SetGlobalScene(queryStr, function (data) {
                    try {
                    }
                    catch (err) {
                    }
                    $.mobile.loading("hide");
                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                });
            }
            else {
                $.mobile.loading("hide");
                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            }

        };

        function menubtn_Click(el) {

            var iType = el.id.substring(2);
            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });

            $('body').append("<div id='loaddiv' class='ui-loader-background'> </div>");

            document.getElementById("lblPageHeader_" + iType).innerHTML = el.name;

            switch (iType) {
                case "1": //Light
                    $.mobile.changePage("index.html#lightPage");
                    ResetImageSrc(iType);
                    activePage = "lightPage";
                    break;
                case "2": //Fan
                    $.mobile.changePage("index.html#fanPage");
                    setKnobHide(iType);
                    //setKnobDisable('knobForDimmer');
                    activePage = "fanPage";
                    break;
                case "3": //Dimmer                   
                    $.mobile.changePage("index.html#dimmerPage");
                    setKnobHide(iType);
                    activePage = "dimmerPage";
                    break;
                case "4": //AC
                    //                    $.mobile.changePage("index.html#acPage");
                    //                    ResetImageSrc(iType);
                    //                    activePage = "acPage";
                    break;
                case "5": //Plug                    
                    $.mobile.changePage("index.html#plugPage");
                    ResetImageSrc(iType);
                    activePage = "plugPage";
                    break;
                case "6": //Local Scene
                    $.mobile.changePage("index.html#localScenePage");
                    activePage = "localScenePage";
                    $("#sceneList_" + iType).html("");
                    break;
                case "7": //IR-AC                    
                    $.mobile.changePage("index.html#irACPage");
                    activePage = "irACPage";
                    setIRPowerONOffStatus(iType, "off");
                    break;
            }

            clearLocationSelBox(iType);
            clearInterfaceSelBox(iType);

            $("#selLocation_" + iType).append("<option value='' style='font-size: 15px; padding: 6px;'>Select Location...</option>");

            var LocationDB = [];
            var uniquLDB = [];
            if (getInterfaceTypeName(parseInt(iType)) == "IR-AC") {
                LocationDB = GetIRLocationByInterfaceType(iType);
            }
            else {
                LocationDB = GetLocationByInterfaceType(iType);
            }

            for (var i = 0; i < LocationDB.length; i++) {
                if (uniquLDB.indexOf(LocationDB[i].locationType + "_" + LocationDB[i].locationNumber) === -1) {
                    $("#selLocation_" + iType).append("<option value='" + LocationDB[i].locationType + "_" + LocationDB[i].locationNumber + "' style='font-size: 15px; padding: 6px;'>" + getLocationTypeName(LocationDB[i].locationType) + " - " + LocationDB[i].locationNumber + "</option>");
                    uniquLDB.push(LocationDB[i].locationType + "_" + LocationDB[i].locationNumber);
                }
            }

            $("#selLocation_" + iType).val("").attr('selected', true).siblings('option').removeAttr('selected');
            $("#selLocation_" + iType).selectmenu("refresh", true);


            $.mobile.loading("hide");
            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        };

        function BindInterfaceList(iType) {

            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });
            $('body').append("<div id='loaddiv' class='ui-loader-background'> </div>");

            clearInterfaceSelBox(iType);
            ResetImageSrc(iType);
            setKnobHide(iType);

            var lTypeNumVal = $("#selLocation_" + iType).val();
            var lTypeNumText = $("#selLocation_" + iType + " option:selected").text();

            if (lTypeNumVal != "") {
                var lTypeNumValArray = lTypeNumVal.split("_");
                $("#selInterface_" + iType).append("<option value='' style='font-size: 15px; padding: 6px;'>Select Appliances...</option>");
                if (lTypeNumValArray.length == 2) {
                    var InterfaceDB = [];
                    var uniqueIDB = [];
                    if (getInterfaceTypeName(parseInt(iType)) == "IR-AC") {
                        InterfaceDB = GetIRInterfaceByLocationAndInterfaceType(lTypeNumValArray[0], lTypeNumValArray[1], iType);
                        for (var i = 0; i < InterfaceDB.length; i++) {
                            if (uniqueIDB.indexOf(InterfaceDB[i].interfaceType + "_" + InterfaceDB[i].interfaceNumber) === -1) {
                                $("#selInterface_" + iType).append("<option value='" + InterfaceDB[i].Id + "_" + InterfaceDB[i].locationType + "_" + InterfaceDB[i].locationNumber + "_" + InterfaceDB[i].channelId + "_" + InterfaceDB[i].interfaceType + "_" + InterfaceDB[i].interfaceNumber + "_" + InterfaceDB[i].interfaceSubType + "' style='font-size: 15px; padding: 6px;'>" + getInterfaceTypeName(InterfaceDB[i].interfaceType) + " - " + getInterfaceSubTypeName(InterfaceDB[i].interfaceSubType) + "-" + InterfaceDB[i].interfaceNumber + "</option>");
                                uniqueIDB.push(InterfaceDB[i].interfaceType + "_" + InterfaceDB[i].interfaceNumber);
                            }
                        }
                    }
                    else {
                        InterfaceDB = GetInterfaceByLocationAndInterfaceType(lTypeNumValArray[0], lTypeNumValArray[1], iType);
                        for (var i = 0; i < InterfaceDB.length; i++) {
                            if (uniqueIDB.indexOf(InterfaceDB[i].interfaceType + "_" + InterfaceDB[i].interfaceNumber) === -1) {
                                $("#selInterface_" + iType).append("<option value='" + InterfaceDB[i].Id + "_" + InterfaceDB[i].busId + "_" + InterfaceDB[i].deviceId + "_" + InterfaceDB[i].channelId + "_" + InterfaceDB[i].interfaceType + "_" + InterfaceDB[i].interfaceNumber + "_" + InterfaceDB[i].interfaceSubType + "' style='font-size: 15px; padding: 6px;'>" + getInterfaceTypeName(InterfaceDB[i].interfaceType) + " - " + getInterfaceSubTypeName(InterfaceDB[i].interfaceSubType) + "-" + InterfaceDB[i].interfaceNumber + "</option>");
                                uniqueIDB.push(InterfaceDB[i].interfaceType + "_" + InterfaceDB[i].interfaceNumber);
                            }
                        }
                    }


                }
                $("#selInterface_" + iType).val("").attr('selected', true).siblings('option').removeAttr('selected');
                $("#selInterface_" + iType).selectmenu("refresh", true);
            }

            $.mobile.loading("hide");
            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }

        };

        function loadInterfaceDetails(iType, IsLoadingMaskShow) {

            if (IsLoadingMaskShow) {
                $.mobile.loading("show", {
                    text: 'Wait..',
                    textVisible: true,
                    theme: 'a',
                    html: ""
                });
                $('body').append("<div id='loaddiv' class='ui-loader-background'> </div>");
            }
            var lTypeNumVal = $("#selLocation_" + iType).val();
            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val(); //$("#selInterface_" + iType).val();

            var lTypeNumValArray = lTypeNumVal.split("_");
            var iTypeNumIdValArray = iTypeNumVal.split("_");

            if (lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 7) {
                //iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber
                //var configInfo = GetUUIDConfigById(iTypeNumIdValArray[0]);
                var configInfo = ($.mobile.activePage.is("#irACPage") && iType == "7") ? GetUUIDConfigByInterfaceSubType(iTypeNumIdValArray[1], iTypeNumIdValArray[2], "5", iTypeNumIdValArray[5], iTypeNumIdValArray[6]) : GetUUIDConfigById(iTypeNumIdValArray[0]);
                if (configInfo.length > 0) {
                    var queryStr = "/info.html";
                    configInfo[0].readWrite = 0;
                    ALSReadAjaxRrquest(queryStr, JSON.stringify(configInfo[0]), function (data) {
                        try {
                            var info = JSON.parse(data);
                            var val = info.value.trim();
                            if (val != "" && val != "-1") {
                                if (($.mobile.activePage.is("#fanPage") && iType == "2") || ($.mobile.activePage.is("#dimmerPage") && iType == "3")) {
                                    if (val == "10") {
                                        setKnobShow(iType);
                                        var knobConfigInfo = GetUUIDConfigById(parseInt(iTypeNumIdValArray[0]) + 2);
                                        ALSReadAjaxRrquest(queryStr, JSON.stringify(knobConfigInfo[0]), function (data) {
                                            try {
                                                var knobInfo = JSON.parse(data);
                                                var val = knobInfo.value.trim();
                                                setKnobIndicator(iType, parseInt(val) / 2);
                                            }
                                            catch (err) { }
                                        });
                                    }
                                    else {
                                        setKnobHide(iType);
                                    }
                                }
                                else if ($.mobile.activePage.is("#irACPage") && iType == "7") {
                                    var txtFlipVal = "off";
                                    if (val == "10")
                                        txtFlipVal = "on";
                                    else
                                        txtFlipVal = "off";

                                    setIRPowerONOffStatus(iType, txtFlipVal);
                                }
                                else {
                                    SetImageSrc(iType, val);
                                }
                            }
                        } catch (err) {

                        }
                        if (IsLoadingMaskShow) {
                            setTimeout(function () {
                                $.mobile.loading("hide");
                                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                            }, delay);
                        }
                        window.clearTimeout(timer);
                        SetAutoLoading(iType);
                        //                        if (!$.mobile.activePage.is("#grouptype") && !$.mobile.activePage.is("#irACPage") && !$.mobile.activePage.is("#localScenePage") && !$.mobile.activePage.is("#globalScenePage") && !$.mobile.activePage.is("#settingDialogPage")) {
                        //                            timer = setTimeout(function () {
                        //                                loadInterfaceDetails(iType, false);
                        //                            }, delay);
                        //                        }
                    });
                }
                else {
                    window.clearTimeout(timer);
                    ResetImageSrc(iType);
                    setKnobHide(iType);
                    if (IsLoadingMaskShow) {
                        setTimeout(function () {
                            $.mobile.loading("hide");
                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                        }, delay);
                    }
                }
            }
            else {
                window.clearTimeout(timer);
                ResetImageSrc(iType);
                setKnobHide(iType);
                if (IsLoadingMaskShow) {
                    setTimeout(function () {
                        $.mobile.loading("hide");
                        try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                    }, delay);
                }
            }
            //            if (IsLoadingMaskShow) {
            //                setTimeout(function () {
            //                    $.mobile.loading("hide");
            //                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            //                }, delay);
            //            }

        };

        

        //        function GetPageNameByiType(iType) {
        //            switch (iType) {

        //                default:

        //            }
        //        };

        function BindLSceneList(iType, IsLoadingMaskShow) {
            if (IsLoadingMaskShow) {
                $.mobile.loading("show", {
                    text: 'Wait..',
                    textVisible: true,
                    theme: 'a',
                    html: ""
                });
                $('body').append("<div id='loaddiv' class='ui-loader-background'> </div>");
            }
            var lTypeNumVal = $("#selLocation_" + iType).val();
            var lTypeNumValArray = lTypeNumVal.split("_");

            $("#sceneList_" + iType).html("");
            $("#sceneList_" + iType).append('<li class="ui-li-has-alt ui-first-child ui-last-child"><a href="#" class="ui-btn tap" style="margin-right: 4.5em;"><h1>Scene' + 1 + '</h1></a><a href="#" id="scenes_' + 1 + '" class="ui-btn ui-icon-green ui-nodisc-icon ui-btn-icon-right ui-btn-icon-notext ui-icon-right ui-btn-a" style="width: 4.5em;" onclick="alert("sceneWrite");"></a></li>');
            $("#sceneList_" + iType).append('<li class="ui-li-has-alt ui-first-child ui-last-child"><a href="#" class="ui-btn tap" style="margin-right: 4.5em;"><h1>Scene' + 2 + '</h1></a><a href="#" id="scenes_' + 2 + '" class="ui-btn ui-icon-red ui-nodisc-icon ui-btn-icon-right ui-btn-icon-notext ui-icon-right ui-btn-a" style="width: 4.5em;" onclick="alert("sceneWrite");"></a></li>');
            $("#sceneList_" + iType).append('<li class="ui-li-has-alt ui-first-child ui-last-child"><a href="#" class="ui-btn tap" style="margin-right: 4.5em;"><h1>Scene' + 3 + '</h1></a><a href="#" id="scenes_' + 3 + '" class="ui-btn ui-icon-red ui-nodisc-icon ui-btn-icon-right ui-btn-icon-notext ui-icon-right ui-btn-a" style="width: 4.5em;" onclick="alert("sceneWrite");"></a></li>');

            if (IsLoadingMaskShow) {
                $.mobile.loading("hide");
                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            }
        };

        function SetAutoLoading(iType) {
            if ($.mobile.activePage.is("#lightPage") && iType == "1") {
                timer = setTimeout(function () {
                    loadInterfaceDetails("1", false);
                }, delay);
            }
            else if ($.mobile.activePage.is("#fanPage") && iType == "2") {
                timer = setTimeout(function () {
                    loadInterfaceDetails("2", false);
                }, delay);
            }
            else if ($.mobile.activePage.is("#dimmerPage") && iType == "3") {
                timer = setTimeout(function () {
                    loadInterfaceDetails("3", false);
                }, delay);
            }
            else if ($.mobile.activePage.is("#plugPage") && iType == "5") {
                timer = setTimeout(function () {
                    loadInterfaceDetails("5", false);
                }, delay);
            }
            else if ($.mobile.activePage.is("#irACPage") && iType == "7") {
                timer = setTimeout(function () {
                    loadInterfaceDetails("7", false);
                }, delay);
            }
            else if ($.mobile.activePage.is("#modeDialogPage")) {
                timer = setTimeout(function () {
                    loadInterfaceDetails(iType, false);
                }, delay);
            }
        };

        function writeOn(iType) {
            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });
            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");

            var lTypeNumVal = $("#selLocation_" + iType).val();
            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val(); //$("#selInterface_" + iType).val();

            var lTypeNumValArray = lTypeNumVal.split("_");
            var iTypeNumIdValArray = iTypeNumVal.split("_");
            var OnOffIndexOf = $('#img_' + iType).length > 0 ? $('#img_' + iType).attr('src').indexOf("ON") : -99;
            if (OnOffIndexOf == -99)
                OnOffIndexOf = $("#knopParentDiv_" + iType).css('display') == "none" ? -1 : 1;

            //if ($('#img_' + iType).attr('src').indexOf("ON") == -1 && lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 6) {
            if (OnOffIndexOf == -1 && lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 7) {
                //iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber
                //                var pcwrtInfo = GetPCWRTInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
                //                if (pcwrtInfo.length > 0) {
                //                    var queryStr = "/info.html";
                //                    pcwrtInfo[0].readWrite = 1;
                //                    pcwrtInfo[0].value = "1";

                //                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(pcwrtInfo[0]), function (data) {

                //                        setTimeout(function () {
                //                            $.mobile.loading("hide");
                //                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                //                        }, delay);
                //                    });
                //                }
                var outInfo = GetUUIDConfigById(iTypeNumIdValArray[0]); //GetPCWRTInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
                if (outInfo.length > 0) {
                    var queryStr = "/info.html";
                    outInfo[0].readWrite = 1;
                    outInfo[0].value = "10";

                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(outInfo[0]), function (data) {

                        setTimeout(function () {
                            $.mobile.loading("hide");
                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                        }, delay);
                    });
                }
                else {
                    $.mobile.loading("hide");
                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                }
            }
            else {
                $.mobile.loading("hide");
                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            }

        };
        function writeOff(iType) {
            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });
            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");

            var lTypeNumVal = $("#selLocation_" + iType).val();
            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val();

            var lTypeNumValArray = lTypeNumVal.split("_");
            var iTypeNumIdValArray = iTypeNumVal.split("_");

            var OnOffIndexOf = $('#img_' + iType).length > 0 ? $('#img_' + iType).attr('src').indexOf("OFF") : -99;
            if (OnOffIndexOf == -99)
                OnOffIndexOf = $("#knopParentDiv_" + iType).css('display') != "none" ? -1 : 1;

            if (OnOffIndexOf == -1 && lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 7) {
                //iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber
                //                var pcwrtInfo = GetPCWRTInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
                //                if (pcwrtInfo.length > 0) {
                //                    var queryStr = "/info.html";
                //                    pcwrtInfo[0].readWrite = 1;
                //                    pcwrtInfo[0].value = "1";
                //                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(pcwrtInfo[0]), function (data) {
                //                        setTimeout(function () {
                //                            $.mobile.loading("hide");
                //                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                //                        }, delay);
                //                    });
                //                }
                var outInfo = GetUUIDConfigById(iTypeNumIdValArray[0]); // pcwrtInfo = GetPCWRTInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
                if (outInfo.length > 0) {
                    var queryStr = "/info.html";
                    outInfo[0].readWrite = 1;
                    outInfo[0].value = "0";
                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(outInfo[0]), function (data) {
                        setTimeout(function () {
                            $.mobile.loading("hide");
                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                        }, delay);
                    });
                }
                else {
                    $.mobile.loading("hide");
                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                }
            }
            else {
                $.mobile.loading("hide");
                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            }
        };

        function writeUsingKnob(val, iType) {

            var lTypeNumVal = $("#selLocation_" + iType).val();
            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val(); //$("#selInterface_" + iType).val();

            var lTypeNumValArray = lTypeNumVal.split("_");
            var iTypeNumIdValArray = iTypeNumVal.split("_");

            var OnOffIndexOf = $("#knopParentDiv_" + iType).css('display') != "none" ? -1 : 1;

            //if ($('#img_' + iType).attr('src').indexOf("ON") == -1 && lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 6) {
            if (OnOffIndexOf == -1 && lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 7) {
                //iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber                
                var outInfo = GetUUIDConfigById(parseInt(iTypeNumIdValArray[0]) + 2); //GetPCWRTInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
                if (outInfo.length > 0) {
                    var queryStr = "/info.html";
                    outInfo[0].readWrite = 1;
                    outInfo[0].value = val.toString();

                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(outInfo[0]), function (data) {

                    });
                }
                else {

                }
            }
            else {

            }

        };

        function WriteIRFlipOnOff(iType) {
            //console.log($("#flipOnOff_" + iType).val());
            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });
            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");

            var lTypeNumVal = $("#selLocation_" + iType).val();
            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val(); //$("#selInterface_" + iType).val();

            var lTypeNumValArray = lTypeNumVal.split("_");
            var iTypeNumIdValArray = iTypeNumVal.split("_");

            if (lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 7) {
                var outInfo = GetUUIDConfigByInterfaceSubType(iTypeNumIdValArray[1], iTypeNumIdValArray[2], "5", iTypeNumIdValArray[5], iTypeNumIdValArray[6]); //GetUUIDConfigById(iTypeNumIdValArray[0]); 
                if (outInfo.length > 0) {
                    var queryStr = "/info.html";
                    outInfo[0].readWrite = 1;
                    if ($("#flipOnOff_" + iType).val() == "on")
                        outInfo[0].value = "10";
                    else
                        outInfo[0].value = "0";

                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(outInfo[0]), function (data) {

                        setTimeout(function () {
                            $.mobile.loading("hide");
                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                        }, delay);
                    });
                }
                else {
                    setIRPowerONOffStatus(iType, "off");
                    $.mobile.loading("hide");
                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                }
            }
            else {
                setIRPowerONOffStatus(iType, "off");
                $.mobile.loading("hide");
                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            }
        };
        //        function writeDimmerOn(iType) {
        //            $.mobile.loading("show", {
        //                text: 'Wait..',
        //                textVisible: true,
        //                theme: 'a',
        //                html: ""
        //            });
        //            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");

        //            var lTypeNumVal = $("#selLocation_" + iType).val();
        //            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val(); //$("#selInterface_" + iType).val();

        //            var lTypeNumValArray = lTypeNumVal.split("_");
        //            var iTypeNumIdValArray = iTypeNumVal.split("_");

        //            if (lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 6) {

        //                //iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber
        //                var pcwrtInfo = GetPCWRTInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
        //                if (pcwrtInfo.length > 0) {
        //                    var queryStr = "/info.html";
        //                    pcwrtInfo[0].readWrite = 1;
        //                    pcwrtInfo[0].value = "1";

        //                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(pcwrtInfo[0]), function (data) {

        //                        setTimeout(function () {
        //                            $.mobile.loading("hide");
        //                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        //                        }, delay);
        //                    });
        //                }
        //                else {
        //                    $.mobile.loading("hide");
        //                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        //                }
        //            }
        //            else {
        //                $.mobile.loading("hide");
        //                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        //            }

        //        };
        //        function writeDimmerOff(iType) {
        //            $.mobile.loading("show", {
        //                text: 'Wait..',
        //                textVisible: true,
        //                theme: 'a',
        //                html: ""
        //            });
        //            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");

        //            var lTypeNumVal = $("#selLocation_" + iType).val();
        //            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val();

        //            var lTypeNumValArray = lTypeNumVal.split("_");
        //            var iTypeNumIdValArray = iTypeNumVal.split("_");

        //            if (lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 6) {
        //                //iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber
        //                var pcwrtInfo = GetPCWRTInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
        //                if (pcwrtInfo.length > 0) {
        //                    var queryStr = "/info.html";
        //                    pcwrtInfo[0].readWrite = 1;
        //                    pcwrtInfo[0].value = "1";
        //                    ALSWriteAjaxRrquest(queryStr, JSON.stringify(pcwrtInfo[0]), function (data) {
        //                        setTimeout(function () {
        //                            $.mobile.loading("hide");
        //                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        //                        }, delay);
        //                    });
        //                }
        //                else {
        //                    $.mobile.loading("hide");
        //                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        //                }
        //            }
        //            else {
        //                $.mobile.loading("hide");
        //                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
        //            }
        //        };

        function modeWinShow(el, iType) {

            var iValue = $("#selInterface_" + iType).val();
            if (iValue != undefined && iValue != "") {
                $.mobile.loading("show", {
                    text: 'Wait..',
                    textVisible: true,
                    theme: 'a',
                    html: ""
                });
                $('body').append("<div id='loaddiv' class='ui-loader-background'> </div>");

                var lTypeNumVal = $("#selLocation_" + iType).val();
                var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val(); //$("#selInterface_" + iType).val();

                var lTypeNumValArray = lTypeNumVal.split("_");
                var iTypeNumIdValArray = iTypeNumVal.split("_");

                if (lTypeNumValArray.length == 2 && iTypeNumIdValArray.length == 7) {
                    //iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber
                    var modeInfo = GetModeInfo(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[3]);
                    if (modeInfo.length > 0) {
                        var queryStr = "/info.html";
                        modeInfo[0].readWrite = 0;
                        ALSReadAjaxRrquest(queryStr, JSON.stringify(modeInfo[0]), function (data) {
                            try {
                                var val = JSON.parse(data).value.trim();
                                $.mobile.changePage("index.html#modeDialogPage", { transition: "none", role: "dialog" });
                                modeInfo[0].value = val.toString();
                                $('#sTagWrite_btn').attr('name', JSON.stringify(modeInfo[0]));
                                $("#SelSimpleMode").val(val.toString());
                                try { $("#SelSimpleMode").selectmenu("refresh", true); } catch (err) { };
                            }
                            catch (err) {
                            }
                            $.mobile.loading("hide");
                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                        });
                    }
                    else {
                        $.mobile.loading("hide");
                        try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                    }
                }
                else {
                    $.mobile.loading("hide");
                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }

                }
            }

        };

        function writeSimpleMode(el) {

            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });
            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");


            ////iTypeNumIdValArray 0-id 1-busID 2-deviceId 3-channelId 4-interfaceType 5-interfaceNumber
            var modeInfo = [];
            var selModeVal = $("#SelSimpleMode").val();
            modeInfo.push(JSON.parse(el.name));
            if (modeInfo.length > 0 && modeInfo[0].value != selModeVal) {
                var queryStr = "/info.html";
                modeInfo[0].readWrite = 1;
                modeInfo[0].value = selModeVal;
                ALSWriteAjaxRrquest(queryStr, JSON.stringify(modeInfo[0]), function (data) {

                    var saveConfigInfo = GetSaveConfigInfo(modeInfo[0].busId, modeInfo[0].deviceId);
                    if (saveConfigInfo.length > 0) {
                        saveConfigInfo[0].readWrite = 1;
                        saveConfigInfo[0].value = "1";
                        ALSWriteAjaxRrquest(queryStr, JSON.stringify(saveConfigInfo[0]), function (data) {

                            setTimeout(function () {
                                $.mobile.loading("hide");
                                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                            }, delay);
                        });
                    }
                    else {
                        $.mobile.loading("hide");
                        try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                    }
                });
            }
            else {
                $.mobile.loading("hide");
                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            }
        };

        function OpenSettingsWindow() {
            LoadSettings();
            $.mobile.changePage("index.html#settingDialogPage", { transition: "none", role: "dialog" });
        };

        function WriteIRCommand(paramType, iType, IsIRTempUpDownPress, IsIRTempUpPress) {

            $.mobile.loading("show", {
                text: 'Wait..',
                textVisible: true,
                theme: 'a',
                html: ""
            });
            $('body').append("<div id='loaddiv' class='ui-loader-background'></div>");

            var iTypeNumVal = $("#selInterface_" + iType).val() == null ? "" : $("#selInterface_" + iType).val(); //$("#selInterface_" + iType).val();

            if (iTypeNumVal != "") {
                var iTypeNumIdValArray = iTypeNumVal.split("_");
                if (iTypeNumIdValArray.length == 7) {
                    var val = 0;
                    var queryStr = "/info.html";
                    if (IsIRTempUpDownPress) {
                        val = parseInt($("#lblIRTemp_" + iType).text());
                        if (val > 16 && val < 32) {
                            var tempUpDownPType = IsIRTempUpPress ? val + 1 : val - 1;
                            var irCmdInfo = GetIRCommand(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[4], iTypeNumIdValArray[5], tempUpDownPType); //GetIRCommand(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[4], iTypeNumIdValArray[5], paramType);
                            if (irCmdInfo.length > 0) {
                                ALSWriteAjaxRrquest(queryStr, JSON.stringify(irCmdInfo[0]), function (data) {
                                    setTimeout(function () {
                                        if (IsIRTempUpPress)
                                            val++;
                                        else
                                            val--;
                                        $("#lblIRTemp_" + iType).text(val);
                                        $.mobile.loading("hide");
                                        try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                                    }, delay);
                                });
                            }
                            else {
                                $.mobile.loading("hide");
                                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                            }
                        }
                        else {
                            $.mobile.loading("hide");
                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                        }
                    }
                    else {
                        var irCmdInfo = GetIRCommand(iTypeNumIdValArray[1], iTypeNumIdValArray[2], iTypeNumIdValArray[4], iTypeNumIdValArray[5], paramType);
                        if (irCmdInfo.length > 0) {
                            ALSWriteAjaxRrquest(queryStr, JSON.stringify(irCmdInfo[0]), function (data) {
                                setTimeout(function () {
                                    $.mobile.loading("hide");
                                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                                }, delay);
                            });
                        }
                        else {
                            $.mobile.loading("hide");
                            try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                        }
                    }
                }
                else {
                    $.mobile.loading("hide");
                    try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
                }
            }
            else {
                $.mobile.loading("hide");
                try { var elMask = document.getElementById('loaddiv'); elMask.parentNode.removeChild(elMask); } catch (msg) { }
            }
        };        
    </script>
    <script type="text/javascript">

        function IsConnectionOk() {
            if (ip != "" && port != "") {
                return true;
            }
            else {
                return false;
            }
        };

        function ConverCsvTOJSON(strCSV) {

            var lines = strCSV.split("\n");

            var result = [];

            var headers = lines[0].split(",");

            for (var i = 1; i < lines.length; i++) {

                var obj = {};
                var currentline = lines[i].split(",");

                for (var j = 0; j < headers.length; j++) {
                    if (j == 1 || j == 11) {
                        obj[headers[j]] = currentline[j];
                    }
                    else {
                        try {
                            obj[headers[j]] = parseInt(currentline[j]);
                        }
                        catch (err) { obj[headers[j]] = currentline[j]; }
                    }

                }

                result.push(obj);

            }

            //return result; //JavaScript object
            return JSON.stringify(result); //JSON
        };

        function GetUUIDConfiguration(callback) {
            UUIDConfig = [];
            try {
                var queryStr = "/file.html?name=config,uuid.csv";
                GetUUIDConfig(queryStr, function (data) {
                    try {
                        var strCSV = data.substring(3, data.length - 5);
                        strCSV = strCSV.replace(/[\r]/g, '');
                        strCSV = ConverCsvTOJSON(strCSV);
                        localStorage.setItem("UUIDConfig", strCSV);
                        UUIDConfig = JSON.parse(strCSV);
                        callback("true");
                    }
                    catch (err) {
                        //UUIDConfig = [];
                        localStorage.setItem("UUIDConfig", "[]");
                        callback("false");
                    }
                });
            }
            catch (err) { callback("false"); }
        };

        function GetIRConfiguration(callback) {
            IRConfig = [];
            try {
                var queryStr = "/file.html?name=config,ir.csv";
                GetIRConfig(queryStr, function (data) {
                    try {
                        var strCSV = data.substring(3, data.length - 5);
                        strCSV = strCSV.replace(/[\r]/g, '');
                        strCSV = ConverCsvTOJSON(strCSV);
                        localStorage.setItem("IRConfig", strCSV);
                        IRConfig = JSON.parse(strCSV);
                        callback("true");
                    }
                    catch (err) {
                        //UUIDConfig = [];
                        localStorage.setItem("IRConfig", "[]");
                        callback("false");
                    }
                });
            }
            catch (err) { callback("false"); }
        };

        function GetGSceneConfiguration(callback) {
            GSceneConfig = [];
            try {
                var queryStr = "/file.html?name=config,global.csv";
                GetGlobalScene(queryStr, function (data) {
                    try {
                        var strCSV = data.substring(3, data.length - 5);
                        strCSV = strCSV.replace(/[\r]/g, '');
                        strCSV = ConverCsvTOJSON(strCSV);
                        localStorage.setItem("GSceneConfig", strCSV);
                        GSceneConfig = JSON.parse(strCSV);
                        callback("true");
                    }
                    catch (err) {
                        //UUIDConfig = [];
                        localStorage.setItem("GSceneConfig", "[]");
                        callback("false");
                    }
                });
            }
            catch (err) { callback("false"); }
        };

        //        $(document).ready(function () {

        //            if (IsConnectionOk()) {
        //                GetUUIDConfiguration(function (data) {

        //                });
        //            }

        //        });  


    </script>
</body>
</html>
